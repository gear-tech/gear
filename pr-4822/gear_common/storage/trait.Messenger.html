<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Represents messenger’s logic of centralized message processing behavior."><title>Messenger in gear_common::storage - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-84e720fa.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="gear_common" data-themes="" data-resource-suffix="" data-rustdoc-version="1.89.0-nightly (ccf3198de 2025-06-05)" data-channel="nightly" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-fd3af306.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-32bb7600.css"></noscript><link rel="icon" href="https://gear-tech.io/favicons/favicon.ico"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../gear_common/index.html"><img src="https://docs.gear.rs/logo.svg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../gear_common/index.html"><img src="https://docs.gear.rs/logo.svg" alt="logo"></a><h2><a href="../../gear_common/index.html">gear_<wbr>common</a><span class="version">1.9.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Messenger</a></h2><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.BlockNumber" title="BlockNumber">BlockNumber</a></li><li><a href="#associatedtype.Capacity" title="Capacity">Capacity</a></li><li><a href="#associatedtype.DelayedDispatch" title="DelayedDispatch">DelayedDispatch</a></li><li><a href="#associatedtype.Dequeued" title="Dequeued">Dequeued</a></li><li><a href="#associatedtype.DispatchStash" title="DispatchStash">DispatchStash</a></li><li><a href="#associatedtype.DispatchStashKey" title="DispatchStashKey">DispatchStashKey</a></li><li><a href="#associatedtype.Error" title="Error">Error</a></li><li><a href="#associatedtype.Mailbox" title="Mailbox">Mailbox</a></li><li><a href="#associatedtype.MailboxFirstKey" title="MailboxFirstKey">MailboxFirstKey</a></li><li><a href="#associatedtype.MailboxSecondKey" title="MailboxSecondKey">MailboxSecondKey</a></li><li><a href="#associatedtype.MailboxedMessage" title="MailboxedMessage">MailboxedMessage</a></li><li><a href="#associatedtype.OutputError" title="OutputError">OutputError</a></li><li><a href="#associatedtype.Queue" title="Queue">Queue</a></li><li><a href="#associatedtype.QueueProcessing" title="QueueProcessing">QueueProcessing</a></li><li><a href="#associatedtype.QueuedDispatch" title="QueuedDispatch">QueuedDispatch</a></li><li><a href="#associatedtype.Sent" title="Sent">Sent</a></li><li><a href="#associatedtype.Waitlist" title="Waitlist">Waitlist</a></li><li><a href="#associatedtype.WaitlistFirstKey" title="WaitlistFirstKey">WaitlistFirstKey</a></li><li><a href="#associatedtype.WaitlistSecondKey" title="WaitlistSecondKey">WaitlistSecondKey</a></li><li><a href="#associatedtype.WaitlistedMessage" title="WaitlistedMessage">WaitlistedMessage</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.reset" title="reset">reset</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In gear_<wbr>common::<wbr>storage</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">gear_common</a>::<wbr><a href="index.html">storage</a></div><h1>Trait <span class="trait">Messenger</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/gear_common/storage/complex/messenger.rs.html#30-190">Source</a> </span></div><pre class="rust item-decl"><code>pub trait Messenger {
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 21 associated items</span></summary>    type <a href="#associatedtype.BlockNumber" class="associatedtype">BlockNumber</a>;
    type <a href="#associatedtype.Capacity" class="associatedtype">Capacity</a>;
    type <a href="#associatedtype.Error" class="associatedtype">Error</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="trait.DequeueError.html" title="trait gear_common::storage::DequeueError">DequeueError</a> + <a class="trait" href="trait.MailboxError.html" title="trait gear_common::storage::MailboxError">MailboxError</a> + <a class="trait" href="trait.WaitlistError.html" title="trait gear_common::storage::WaitlistError">WaitlistError</a>;
    type <a href="#associatedtype.OutputError" class="associatedtype">OutputError</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Error" title="type gear_common::storage::Messenger::Error">Error</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>;
    type <a href="#associatedtype.MailboxFirstKey" class="associatedtype">MailboxFirstKey</a>;
    type <a href="#associatedtype.MailboxSecondKey" class="associatedtype">MailboxSecondKey</a>;
    type <a href="#associatedtype.MailboxedMessage" class="associatedtype">MailboxedMessage</a>;
    type <a href="#associatedtype.QueuedDispatch" class="associatedtype">QueuedDispatch</a>;
    type <a href="#associatedtype.DelayedDispatch" class="associatedtype">DelayedDispatch</a>;
    type <a href="#associatedtype.WaitlistFirstKey" class="associatedtype">WaitlistFirstKey</a>;
    type <a href="#associatedtype.WaitlistSecondKey" class="associatedtype">WaitlistSecondKey</a>;
    type <a href="#associatedtype.WaitlistedMessage" class="associatedtype">WaitlistedMessage</a>;
    type <a href="#associatedtype.DispatchStashKey" class="associatedtype">DispatchStashKey</a>;
    type <a href="#associatedtype.Sent" class="associatedtype">Sent</a>: <a class="trait" href="trait.Counter.html" title="trait gear_common::storage::Counter">Counter</a>&lt;Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Capacity" title="type gear_common::storage::Messenger::Capacity">Capacity</a>&gt;;
    type <a href="#associatedtype.Dequeued" class="associatedtype">Dequeued</a>: <a class="trait" href="trait.Counter.html" title="trait gear_common::storage::Counter">Counter</a>&lt;Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Capacity" title="type gear_common::storage::Messenger::Capacity">Capacity</a>&gt;;
    type <a href="#associatedtype.QueueProcessing" class="associatedtype">QueueProcessing</a>: <a class="trait" href="trait.Toggler.html" title="trait gear_common::storage::Toggler">Toggler</a>;
    type <a href="#associatedtype.Queue" class="associatedtype">Queue</a>: <a class="trait" href="trait.Queue.html" title="trait gear_common::storage::Queue">Queue</a>&lt;Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.QueuedDispatch" title="type gear_common::storage::Messenger::QueuedDispatch">QueuedDispatch</a>, Error = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Error" title="type gear_common::storage::Messenger::Error">Error</a>, OutputError = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.OutputError" title="type gear_common::storage::Messenger::OutputError">OutputError</a>&gt; + <a class="trait" href="trait.Counted.html" title="trait gear_common::storage::Counted">Counted</a>&lt;Length = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Capacity" title="type gear_common::storage::Messenger::Capacity">Capacity</a>&gt; + <a class="trait" href="trait.IterableMap.html" title="trait gear_common::storage::IterableMap">IterableMap</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.QueuedDispatch" title="type gear_common::storage::Messenger::QueuedDispatch">QueuedDispatch</a>, Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.OutputError" title="type gear_common::storage::Messenger::OutputError">OutputError</a>&gt;&gt;;
    type <a href="#associatedtype.Mailbox" class="associatedtype">Mailbox</a>: <a class="trait" href="trait.Mailbox.html" title="trait gear_common::storage::Mailbox">Mailbox</a>&lt;Key1 = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxFirstKey" title="type gear_common::storage::Messenger::MailboxFirstKey">MailboxFirstKey</a>, Key2 = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxSecondKey" title="type gear_common::storage::Messenger::MailboxSecondKey">MailboxSecondKey</a>, Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxedMessage" title="type gear_common::storage::Messenger::MailboxedMessage">MailboxedMessage</a>, BlockNumber = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>, Error = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Error" title="type gear_common::storage::Messenger::Error">Error</a>, OutputError = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.OutputError" title="type gear_common::storage::Messenger::OutputError">OutputError</a>&gt; + <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&lt;Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxFirstKey" title="type gear_common::storage::Messenger::MailboxFirstKey">MailboxFirstKey</a>, Length = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt; + <a class="trait" href="trait.IterableMap.html" title="trait gear_common::storage::IterableMap">IterableMap</a>&lt;(Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxedMessage" title="type gear_common::storage::Messenger::MailboxedMessage">MailboxedMessage</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;)&gt; + <a class="trait" href="trait.IterableByKeyMap.html" title="trait gear_common::storage::IterableByKeyMap">IterableByKeyMap</a>&lt;(Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxedMessage" title="type gear_common::storage::Messenger::MailboxedMessage">MailboxedMessage</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;), Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxFirstKey" title="type gear_common::storage::Messenger::MailboxFirstKey">MailboxFirstKey</a>&gt;;
    type <a href="#associatedtype.Waitlist" class="associatedtype">Waitlist</a>: <a class="trait" href="trait.Waitlist.html" title="trait gear_common::storage::Waitlist">Waitlist</a>&lt;Key1 = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistFirstKey" title="type gear_common::storage::Messenger::WaitlistFirstKey">WaitlistFirstKey</a>, Key2 = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistSecondKey" title="type gear_common::storage::Messenger::WaitlistSecondKey">WaitlistSecondKey</a>, Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistedMessage" title="type gear_common::storage::Messenger::WaitlistedMessage">WaitlistedMessage</a>, BlockNumber = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>, Error = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Error" title="type gear_common::storage::Messenger::Error">Error</a>, OutputError = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.OutputError" title="type gear_common::storage::Messenger::OutputError">OutputError</a>&gt; + <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&lt;Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistFirstKey" title="type gear_common::storage::Messenger::WaitlistFirstKey">WaitlistFirstKey</a>, Length = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt; + <a class="trait" href="trait.IterableMap.html" title="trait gear_common::storage::IterableMap">IterableMap</a>&lt;(Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistedMessage" title="type gear_common::storage::Messenger::WaitlistedMessage">WaitlistedMessage</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;)&gt; + <a class="trait" href="trait.IterableByKeyMap.html" title="trait gear_common::storage::IterableByKeyMap">IterableByKeyMap</a>&lt;(Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistedMessage" title="type gear_common::storage::Messenger::WaitlistedMessage">WaitlistedMessage</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;), Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistFirstKey" title="type gear_common::storage::Messenger::WaitlistFirstKey">WaitlistFirstKey</a>&gt;;
    type <a href="#associatedtype.DispatchStash" class="associatedtype">DispatchStash</a>: <a class="trait" href="trait.MapStorage.html" title="trait gear_common::storage::MapStorage">MapStorage</a>&lt;Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.DispatchStashKey" title="type gear_common::storage::Messenger::DispatchStashKey">DispatchStashKey</a>, Value = (Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.DelayedDispatch" title="type gear_common::storage::Messenger::DelayedDispatch">DelayedDispatch</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;)&gt;;

    // Provided method
    fn <a href="#method.reset" class="fn">reset</a>() { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Represents messenger’s logic of centralized message processing behavior.</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.BlockNumber" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#32">Source</a><h4 class="code-header">type <a href="#associatedtype.BlockNumber" class="associatedtype">BlockNumber</a></h4></section></summary><div class="docblock"><p>Block number type of the messenger.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Capacity" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#37">Source</a><h4 class="code-header">type <a href="#associatedtype.Capacity" class="associatedtype">Capacity</a></h4></section></summary><div class="docblock"><p>Capacity of the messenger.</p>
<p>This type defines length type of the queue, sent and
dequeued messages within same block amount type.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Error" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#39">Source</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="trait.DequeueError.html" title="trait gear_common::storage::DequeueError">DequeueError</a> + <a class="trait" href="trait.MailboxError.html" title="trait gear_common::storage::MailboxError">MailboxError</a> + <a class="trait" href="trait.WaitlistError.html" title="trait gear_common::storage::WaitlistError">WaitlistError</a></h4></section></summary><div class="docblock"><p>Inner error type generated by gear’s storage types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.OutputError" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#44">Source</a><h4 class="code-header">type <a href="#associatedtype.OutputError" class="associatedtype">OutputError</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Error" title="type gear_common::storage::Messenger::Error">Error</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a></h4></section></summary><div class="docblock"><p>Output error of each storage algorithm.</p>
<p>Implements <code>From&lt;Self::Error&gt;</code> to be able to return
any required error type.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.MailboxFirstKey" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#49">Source</a><h4 class="code-header">type <a href="#associatedtype.MailboxFirstKey" class="associatedtype">MailboxFirstKey</a></h4></section></summary><div class="docblock"><p>First key of the mailbox storage.</p>
<p>Present to clarify compiler behavior over associated types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.MailboxSecondKey" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#53">Source</a><h4 class="code-header">type <a href="#associatedtype.MailboxSecondKey" class="associatedtype">MailboxSecondKey</a></h4></section></summary><div class="docblock"><p>Second key of the mailbox storage.</p>
<p>Present to clarify compiler behavior over associated types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.MailboxedMessage" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#57">Source</a><h4 class="code-header">type <a href="#associatedtype.MailboxedMessage" class="associatedtype">MailboxedMessage</a></h4></section></summary><div class="docblock"><p>Stored values type for <code>Self::Mailbox</code>.</p>
<p>Present to clarify compiler behavior over associated types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.QueuedDispatch" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#61">Source</a><h4 class="code-header">type <a href="#associatedtype.QueuedDispatch" class="associatedtype">QueuedDispatch</a></h4></section></summary><div class="docblock"><p>Stored values type for <code>Self::Queue</code>.</p>
<p>Present to clarify compiler behavior over associated types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.DelayedDispatch" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#65">Source</a><h4 class="code-header">type <a href="#associatedtype.DelayedDispatch" class="associatedtype">DelayedDispatch</a></h4></section></summary><div class="docblock"><p>Stored values type for <code>Self::DispatchStash</code>.</p>
<p>Present to clarify compiler behavior over associated types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.WaitlistFirstKey" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#69">Source</a><h4 class="code-header">type <a href="#associatedtype.WaitlistFirstKey" class="associatedtype">WaitlistFirstKey</a></h4></section></summary><div class="docblock"><p>First key of the waitlist storage.</p>
<p>Present to clarify compiler behavior over associated types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.WaitlistSecondKey" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#73">Source</a><h4 class="code-header">type <a href="#associatedtype.WaitlistSecondKey" class="associatedtype">WaitlistSecondKey</a></h4></section></summary><div class="docblock"><p>Second key of the waitlist storage.</p>
<p>Present to clarify compiler behavior over associated types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.WaitlistedMessage" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#77">Source</a><h4 class="code-header">type <a href="#associatedtype.WaitlistedMessage" class="associatedtype">WaitlistedMessage</a></h4></section></summary><div class="docblock"><p>Stored values type for <code>Self::Waitlist</code>.</p>
<p>Present to clarify compiler behavior over associated types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.DispatchStashKey" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#81">Source</a><h4 class="code-header">type <a href="#associatedtype.DispatchStashKey" class="associatedtype">DispatchStashKey</a></h4></section></summary><div class="docblock"><p>Key for value types for <code>Self::DispatchStash</code>.</p>
<p>Present to clarify compiler behavior over associated types.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Sent" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#87">Source</a><h4 class="code-header">type <a href="#associatedtype.Sent" class="associatedtype">Sent</a>: <a class="trait" href="trait.Counter.html" title="trait gear_common::storage::Counter">Counter</a>&lt;Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Capacity" title="type gear_common::storage::Messenger::Capacity">Capacity</a>&gt;</h4></section></summary><div class="docblock"><p>Amount of messages sent from outside (from users)
within the current block.</p>
<p>Used as local counter for <code>MessageId</code> generation.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Dequeued" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#93">Source</a><h4 class="code-header">type <a href="#associatedtype.Dequeued" class="associatedtype">Dequeued</a>: <a class="trait" href="trait.Counter.html" title="trait gear_common::storage::Counter">Counter</a>&lt;Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Capacity" title="type gear_common::storage::Messenger::Capacity">Capacity</a>&gt;</h4></section></summary><div class="docblock"><p>Amount of messages dequeued with the current block.</p>
<p>Used for depositing informational event about how much messages
were took from queue in <code>process_queue</code> execution.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.QueueProcessing" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#101">Source</a><h4 class="code-header">type <a href="#associatedtype.QueueProcessing" class="associatedtype">QueueProcessing</a>: <a class="trait" href="trait.Toggler.html" title="trait gear_common::storage::Toggler">Toggler</a></h4></section></summary><div class="docblock"><p>Allowance of queue processing.</p>
<p>Used for checking could <code>process_queue</code> continue it’s execution.
Execution finishes, once message requeued at the end of the queue,
because it alerts, that this execution exceed gas allowance of the
current block by gear’s processing algorithm.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Queue" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#108-110">Source</a><h4 class="code-header">type <a href="#associatedtype.Queue" class="associatedtype">Queue</a>: <a class="trait" href="trait.Queue.html" title="trait gear_common::storage::Queue">Queue</a>&lt;Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.QueuedDispatch" title="type gear_common::storage::Messenger::QueuedDispatch">QueuedDispatch</a>, Error = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Error" title="type gear_common::storage::Messenger::Error">Error</a>, OutputError = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.OutputError" title="type gear_common::storage::Messenger::OutputError">OutputError</a>&gt; + <a class="trait" href="trait.Counted.html" title="trait gear_common::storage::Counted">Counted</a>&lt;Length = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Capacity" title="type gear_common::storage::Messenger::Capacity">Capacity</a>&gt; + <a class="trait" href="trait.IterableMap.html" title="trait gear_common::storage::IterableMap">IterableMap</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.QueuedDispatch" title="type gear_common::storage::Messenger::QueuedDispatch">QueuedDispatch</a>, Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.OutputError" title="type gear_common::storage::Messenger::OutputError">OutputError</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Gear message queue.</p>
<p>Message queue contains only messages addressed to programs.
Messages from queue process on idle of each block in <code>process_queue</code>,
function, except case of runtime upgrade - then processing skipped.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Mailbox" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#120-132">Source</a><h4 class="code-header">type <a href="#associatedtype.Mailbox" class="associatedtype">Mailbox</a>: <a class="trait" href="trait.Mailbox.html" title="trait gear_common::storage::Mailbox">Mailbox</a>&lt;Key1 = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxFirstKey" title="type gear_common::storage::Messenger::MailboxFirstKey">MailboxFirstKey</a>, Key2 = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxSecondKey" title="type gear_common::storage::Messenger::MailboxSecondKey">MailboxSecondKey</a>, Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxedMessage" title="type gear_common::storage::Messenger::MailboxedMessage">MailboxedMessage</a>, BlockNumber = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>, Error = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Error" title="type gear_common::storage::Messenger::Error">Error</a>, OutputError = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.OutputError" title="type gear_common::storage::Messenger::OutputError">OutputError</a>&gt; + <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&lt;Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxFirstKey" title="type gear_common::storage::Messenger::MailboxFirstKey">MailboxFirstKey</a>, Length = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt; + <a class="trait" href="trait.IterableMap.html" title="trait gear_common::storage::IterableMap">IterableMap</a>&lt;(Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxedMessage" title="type gear_common::storage::Messenger::MailboxedMessage">MailboxedMessage</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;)&gt; + <a class="trait" href="trait.IterableByKeyMap.html" title="trait gear_common::storage::IterableByKeyMap">IterableByKeyMap</a>&lt;(Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxedMessage" title="type gear_common::storage::Messenger::MailboxedMessage">MailboxedMessage</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;), Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.MailboxFirstKey" title="type gear_common::storage::Messenger::MailboxFirstKey">MailboxFirstKey</a>&gt;</h4></section></summary><div class="docblock"><p>Gear mailbox.</p>
<p>Mailbox contains only messages addressed to user accounts.
Any address meant as user account if it’s not program id.</p>
<p>Only mailbox owner (user with message’s destination address)
can claim value from the message, removing it afterward, or claim
and send reply on received message, if it still present (#642).</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Waitlist" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#158-170">Source</a><h4 class="code-header">type <a href="#associatedtype.Waitlist" class="associatedtype">Waitlist</a>: <a class="trait" href="trait.Waitlist.html" title="trait gear_common::storage::Waitlist">Waitlist</a>&lt;Key1 = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistFirstKey" title="type gear_common::storage::Messenger::WaitlistFirstKey">WaitlistFirstKey</a>, Key2 = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistSecondKey" title="type gear_common::storage::Messenger::WaitlistSecondKey">WaitlistSecondKey</a>, Value = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistedMessage" title="type gear_common::storage::Messenger::WaitlistedMessage">WaitlistedMessage</a>, BlockNumber = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>, Error = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.Error" title="type gear_common::storage::Messenger::Error">Error</a>, OutputError = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.OutputError" title="type gear_common::storage::Messenger::OutputError">OutputError</a>&gt; + <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&lt;Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistFirstKey" title="type gear_common::storage::Messenger::WaitlistFirstKey">WaitlistFirstKey</a>, Length = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt; + <a class="trait" href="trait.IterableMap.html" title="trait gear_common::storage::IterableMap">IterableMap</a>&lt;(Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistedMessage" title="type gear_common::storage::Messenger::WaitlistedMessage">WaitlistedMessage</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;)&gt; + <a class="trait" href="trait.IterableByKeyMap.html" title="trait gear_common::storage::IterableByKeyMap">IterableByKeyMap</a>&lt;(Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistedMessage" title="type gear_common::storage::Messenger::WaitlistedMessage">WaitlistedMessage</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;), Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.WaitlistFirstKey" title="type gear_common::storage::Messenger::WaitlistFirstKey">WaitlistFirstKey</a>&gt;</h4></section></summary><div class="docblock"><p>Gear waitlist.</p>
<p>Waitlist contains messages, which execution should be
delayed for some logic.</p>
<p>Message can be inserted into waitlist only in these cases:</p>
<ol>
<li>Destination program called <code>gr_wait</code> while was executing
this message, so only this program can remove and
requeue it by <code>gr_wake</code> call in any execution.</li>
<li>The message sent to program, that hadn’t finished its
initialization, and will be automatically removed once
result of initialization would be available.</li>
<li>Restored after resuming paused programs. On pause we
collect waitlist content addressed to the program,
removing it afterwards. On resume, user should provide
the same content to be able to unpause program, which
gonna be added into waitlist again.</li>
</ol>
<p>More cases may be considered in future.</p>
<p>Gear runtime also charges rent for holding in waitlist.
Note, that system can remove message from waitlist,
if it couldn’t pay rent for holding there further.
For details, see <code>pallet-gear-scheduler</code>.</p>
</div></details><section id="associatedtype.DispatchStash" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#172-175">Source</a><h4 class="code-header">type <a href="#associatedtype.DispatchStash" class="associatedtype">DispatchStash</a>: <a class="trait" href="trait.MapStorage.html" title="trait gear_common::storage::MapStorage">MapStorage</a>&lt;Key = Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.DispatchStashKey" title="type gear_common::storage::Messenger::DispatchStashKey">DispatchStashKey</a>, Value = (Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.DelayedDispatch" title="type gear_common::storage::Messenger::DelayedDispatch">DelayedDispatch</a>, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;Self::<a class="associatedtype" href="trait.Messenger.html#associatedtype.BlockNumber" title="type gear_common::storage::Messenger::BlockNumber">BlockNumber</a>&gt;)&gt;</h4></section></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.reset" class="method"><a class="src rightside" href="../../src/gear_common/storage/complex/messenger.rs.html#181-189">Source</a><h4 class="code-header">fn <a href="#method.reset" class="fn">reset</a>()</h4></section></summary><div class="docblock"><p>Resets all related to messenger storages.</p>
<p>It’s a temporary production solution to avoid DB migrations
and would be available for test purposes only in the future.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../trait.impl/gear_common/storage/complex/messenger/trait.Messenger.js" async></script></section></div></main></body></html>