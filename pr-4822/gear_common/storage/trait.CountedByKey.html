<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Represents default counting logic, by providing ability to return length of the object as specified (associated) type or answer the question is the object empty, by provided key of specified (associated) type."><title>CountedByKey in gear_common::storage - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-84e720fa.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="gear_common" data-themes="" data-resource-suffix="" data-rustdoc-version="1.89.0-nightly (ccf3198de 2025-06-05)" data-channel="nightly" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-fd3af306.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-32bb7600.css"></noscript><link rel="icon" href="https://gear-tech.io/favicons/favicon.ico"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../gear_common/index.html"><img src="https://docs.gear.rs/logo.svg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../gear_common/index.html"><img src="https://docs.gear.rs/logo.svg" alt="logo"></a><h2><a href="../../gear_common/index.html">gear_<wbr>common</a><span class="version">1.9.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Counted<wbr>ByKey</a></h2><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Key" title="Key">Key</a></li><li><a href="#associatedtype.Length" title="Length">Length</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.len" title="len">len</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.is_empty" title="is_empty">is_empty</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In gear_<wbr>common::<wbr>storage</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">gear_common</a>::<wbr><a href="index.html">storage</a></div><h1>Trait <span class="trait">CountedByKey</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/gear_common/storage/primitives/counted.rs.html#46-59">Source</a> </span></div><pre class="rust item-decl"><code>pub trait CountedByKey {
    type <a href="#associatedtype.Key" class="associatedtype">Key</a>;
    type <a href="#associatedtype.Length" class="associatedtype">Length</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a>;

    // Required method
    fn <a href="#tymethod.len" class="fn">len</a>(key: &amp;Self::<a class="associatedtype" href="trait.CountedByKey.html#associatedtype.Key" title="type gear_common::storage::CountedByKey::Key">Key</a>) -&gt; Self::<a class="associatedtype" href="trait.CountedByKey.html#associatedtype.Length" title="type gear_common::storage::CountedByKey::Length">Length</a>;

    // Provided method
    fn <a href="#method.is_empty" class="fn">is_empty</a>(key: &amp;Self::<a class="associatedtype" href="trait.CountedByKey.html#associatedtype.Key" title="type gear_common::storage::CountedByKey::Key">Key</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Represents default counting logic, by providing ability
to return length of the object as specified (associated) type
or answer the question is the object empty, by provided key of
specified (associated) type.</p>
<p>Should be implemented on double map based types.</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Key" class="method"><a class="src rightside" href="../../src/gear_common/storage/primitives/counted.rs.html#48">Source</a><h4 class="code-header">type <a href="#associatedtype.Key" class="associatedtype">Key</a></h4></section></summary><div class="docblock"><p>Key type of counting target.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Length" class="method"><a class="src rightside" href="../../src/gear_common/storage/primitives/counted.rs.html#50">Source</a><h4 class="code-header">type <a href="#associatedtype.Length" class="associatedtype">Length</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a></h4></section></summary><div class="docblock"><p>Returning length type.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.len" class="method"><a class="src rightside" href="../../src/gear_common/storage/primitives/counted.rs.html#53">Source</a><h4 class="code-header">fn <a href="#tymethod.len" class="fn">len</a>(key: &amp;Self::<a class="associatedtype" href="trait.CountedByKey.html#associatedtype.Key" title="type gear_common::storage::CountedByKey::Key">Key</a>) -&gt; Self::<a class="associatedtype" href="trait.CountedByKey.html#associatedtype.Length" title="type gear_common::storage::CountedByKey::Length">Length</a></h4></section></summary><div class="docblock"><p>Returns current Self’s amount of elements as <code>Length</code> type.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.is_empty" class="method"><a class="src rightside" href="../../src/gear_common/storage/primitives/counted.rs.html#56-58">Source</a><h4 class="code-header">fn <a href="#method.is_empty" class="fn">is_empty</a>(key: &amp;Self::<a class="associatedtype" href="trait.CountedByKey.html#associatedtype.Key" title="type gear_common::storage::CountedByKey::Key">Key</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns bool, defining if Self doesn’t contain elements.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-CountedByKey-for-TaskPoolImpl%3CT,+Task,+Error,+OutputError,+Callbacks%3E" class="impl"><a class="src rightside" href="../../src/gear_common/scheduler.rs.html#221-235">Source</a><a href="#impl-CountedByKey-for-TaskPoolImpl%3CT,+Task,+Error,+OutputError,+Callbacks%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, Task, Error, OutputError, Callbacks&gt; <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a> for <a class="struct" href="../scheduler/struct.TaskPoolImpl.html" title="struct gear_common::scheduler::TaskPoolImpl">TaskPoolImpl</a>&lt;T, Task, Error, OutputError, Callbacks&gt;<div class="where">where
    T: <a class="trait" href="trait.DoubleMapStorage.html" title="trait gear_common::storage::DoubleMapStorage">DoubleMapStorage</a>&lt;Key2 = Task, Value = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&lt;Key = T::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key1" title="type gear_common::storage::DoubleMapStorage::Key1">Key1</a>&gt;,
    Error: <a class="trait" href="../scheduler/trait.TaskPoolError.html" title="trait gear_common::scheduler::TaskPoolError">TaskPoolError</a>,
    OutputError: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;Error&gt;,
    Callbacks: <a class="trait" href="../scheduler/trait.TaskPoolCallbacks.html" title="trait gear_common::scheduler::TaskPoolCallbacks">TaskPoolCallbacks</a>,</div></h3></section></summary><div class="impl-items"><section id="associatedtype.Key-1" class="associatedtype trait-impl"><a class="src rightside" href="../../src/gear_common/scheduler.rs.html#229">Source</a><a href="#associatedtype.Key-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Key" class="associatedtype">Key</a> = &lt;T as <a class="trait" href="trait.DoubleMapStorage.html" title="trait gear_common::storage::DoubleMapStorage">DoubleMapStorage</a>&gt;::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key1" title="type gear_common::storage::DoubleMapStorage::Key1">Key1</a></h4></section><section id="associatedtype.Length-1" class="associatedtype trait-impl"><a class="src rightside" href="../../src/gear_common/scheduler.rs.html#230">Source</a><a href="#associatedtype.Length-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Length" class="associatedtype">Length</a> = &lt;T as <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&gt;::<a class="associatedtype" href="trait.CountedByKey.html#associatedtype.Length" title="type gear_common::storage::CountedByKey::Length">Length</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-CountedByKey-for-MailboxImpl%3CT,+Value,+BlockNumber,+Error,+OutputError,+Callbacks,+KeyGen%3E" class="impl"><a class="src rightside" href="../../src/gear_common/storage/complex/mailbox.rs.html#191-207">Source</a><a href="#impl-CountedByKey-for-MailboxImpl%3CT,+Value,+BlockNumber,+Error,+OutputError,+Callbacks,+KeyGen%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, Value, BlockNumber, Error, OutputError, Callbacks, KeyGen&gt; <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a> for <a class="struct" href="struct.MailboxImpl.html" title="struct gear_common::storage::MailboxImpl">MailboxImpl</a>&lt;T, Value, BlockNumber, Error, OutputError, Callbacks, KeyGen&gt;<div class="where">where
    T: <a class="trait" href="trait.DoubleMapStorage.html" title="trait gear_common::storage::DoubleMapStorage">DoubleMapStorage</a>&lt;Value = (Value, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;BlockNumber&gt;)&gt; + <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&lt;Key = T::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key1" title="type gear_common::storage::DoubleMapStorage::Key1">Key1</a>&gt;,
    Error: <a class="trait" href="trait.MailboxError.html" title="trait gear_common::storage::MailboxError">MailboxError</a>,
    OutputError: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;Error&gt;,
    Callbacks: <a class="trait" href="trait.MailboxCallbacks.html" title="trait gear_common::storage::MailboxCallbacks">MailboxCallbacks</a>&lt;OutputError, Value = Value, BlockNumber = BlockNumber&gt;,
    KeyGen: <a class="trait" href="trait.KeyFor.html" title="trait gear_common::storage::KeyFor">KeyFor</a>&lt;Key = (T::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key1" title="type gear_common::storage::DoubleMapStorage::Key1">Key1</a>, T::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key2" title="type gear_common::storage::DoubleMapStorage::Key2">Key2</a>), Value = Value&gt;,</div></h3></section></summary><div class="impl-items"><section id="associatedtype.Key-2" class="associatedtype trait-impl"><a class="src rightside" href="../../src/gear_common/storage/complex/mailbox.rs.html#201">Source</a><a href="#associatedtype.Key-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Key" class="associatedtype">Key</a> = &lt;T as <a class="trait" href="trait.DoubleMapStorage.html" title="trait gear_common::storage::DoubleMapStorage">DoubleMapStorage</a>&gt;::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key1" title="type gear_common::storage::DoubleMapStorage::Key1">Key1</a></h4></section><section id="associatedtype.Length-2" class="associatedtype trait-impl"><a class="src rightside" href="../../src/gear_common/storage/complex/mailbox.rs.html#202">Source</a><a href="#associatedtype.Length-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Length" class="associatedtype">Length</a> = &lt;T as <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&gt;::<a class="associatedtype" href="trait.CountedByKey.html#associatedtype.Length" title="type gear_common::storage::CountedByKey::Length">Length</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-CountedByKey-for-WaitlistImpl%3CT,+Value,+BlockNumber,+Error,+OutputError,+Callbacks,+KeyGen%3E" class="impl"><a class="src rightside" href="../../src/gear_common/storage/complex/waitlist.rs.html#178-193">Source</a><a href="#impl-CountedByKey-for-WaitlistImpl%3CT,+Value,+BlockNumber,+Error,+OutputError,+Callbacks,+KeyGen%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, Value, BlockNumber, Error, OutputError, Callbacks, KeyGen&gt; <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a> for <a class="struct" href="struct.WaitlistImpl.html" title="struct gear_common::storage::WaitlistImpl">WaitlistImpl</a>&lt;T, Value, BlockNumber, Error, OutputError, Callbacks, KeyGen&gt;<div class="where">where
    T: <a class="trait" href="trait.DoubleMapStorage.html" title="trait gear_common::storage::DoubleMapStorage">DoubleMapStorage</a>&lt;Value = (Value, <a class="struct" href="struct.Interval.html" title="struct gear_common::storage::Interval">Interval</a>&lt;BlockNumber&gt;)&gt; + <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&lt;Key = T::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key1" title="type gear_common::storage::DoubleMapStorage::Key1">Key1</a>&gt;,
    Error: <a class="trait" href="trait.WaitlistError.html" title="trait gear_common::storage::WaitlistError">WaitlistError</a>,
    OutputError: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;Error&gt;,
    Callbacks: <a class="trait" href="trait.WaitlistCallbacks.html" title="trait gear_common::storage::WaitlistCallbacks">WaitlistCallbacks</a>&lt;Value = Value, BlockNumber = BlockNumber&gt;,
    KeyGen: <a class="trait" href="trait.KeyFor.html" title="trait gear_common::storage::KeyFor">KeyFor</a>&lt;Key = (T::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key1" title="type gear_common::storage::DoubleMapStorage::Key1">Key1</a>, T::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key2" title="type gear_common::storage::DoubleMapStorage::Key2">Key2</a>), Value = Value&gt;,</div></h3></section></summary><div class="impl-items"><section id="associatedtype.Key-3" class="associatedtype trait-impl"><a class="src rightside" href="../../src/gear_common/storage/complex/waitlist.rs.html#187">Source</a><a href="#associatedtype.Key-3" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Key" class="associatedtype">Key</a> = &lt;T as <a class="trait" href="trait.DoubleMapStorage.html" title="trait gear_common::storage::DoubleMapStorage">DoubleMapStorage</a>&gt;::<a class="associatedtype" href="trait.DoubleMapStorage.html#associatedtype.Key1" title="type gear_common::storage::DoubleMapStorage::Key1">Key1</a></h4></section><section id="associatedtype.Length-3" class="associatedtype trait-impl"><a class="src rightside" href="../../src/gear_common/storage/complex/waitlist.rs.html#188">Source</a><a href="#associatedtype.Length-3" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Length" class="associatedtype">Length</a> = &lt;T as <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a>&gt;::<a class="associatedtype" href="trait.CountedByKey.html#associatedtype.Length" title="type gear_common::storage::CountedByKey::Length">Length</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-CountedByKey-for-T" class="impl"><a class="src rightside" href="../../src/gear_common/storage/primitives/double_map.rs.html#485-492">Source</a><a href="#impl-CountedByKey-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="trait.AuxiliaryDoubleStorageWrap.html" title="trait gear_common::storage::AuxiliaryDoubleStorageWrap">AuxiliaryDoubleStorageWrap</a>&gt; <a class="trait" href="trait.CountedByKey.html" title="trait gear_common::storage::CountedByKey">CountedByKey</a> for T</h3></section></summary><div class="impl-items"><section id="associatedtype.Key-4" class="associatedtype trait-impl"><a class="src rightside" href="../../src/gear_common/storage/primitives/double_map.rs.html#486">Source</a><a href="#associatedtype.Key-4" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Key" class="associatedtype">Key</a> = &lt;T as <a class="trait" href="trait.AuxiliaryDoubleStorageWrap.html" title="trait gear_common::storage::AuxiliaryDoubleStorageWrap">AuxiliaryDoubleStorageWrap</a>&gt;::<a class="associatedtype" href="trait.AuxiliaryDoubleStorageWrap.html#associatedtype.Key1" title="type gear_common::storage::AuxiliaryDoubleStorageWrap::Key1">Key1</a></h4></section><section id="associatedtype.Length-4" class="associatedtype trait-impl"><a class="src rightside" href="../../src/gear_common/storage/primitives/double_map.rs.html#487">Source</a><a href="#associatedtype.Length-4" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Length" class="associatedtype">Length</a> = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section></div></details></div><script src="../../trait.impl/gear_common/storage/primitives/counted/trait.CountedByKey.js" async></script></section></div></main></body></html>