[package]
name = "hypercore-runtime"
version.workspace = true
authors.workspace = true
edition.workspace = true
license.workspace = true
homepage.workspace = true
repository.workspace = true

[dependencies]
# Once you append any dependency, make sure to put it under "wasm" feature.

## Operational deps.
dlmalloc-rs = { workspace = true, features = ["global"], optional = true }
log = { workspace = true, optional = true }
parity-scale-codec = { workspace = true, optional = true }

## Gear deps.
gear-core = { workspace = true, optional = true }
gear-sandbox = { workspace = true, optional = true }
gear-wasm-instrument = { workspace = true, optional = true }
gprimitives = { workspace = true, optional = true }

[build-dependencies]
substrate-wasm-builder.workspace = true

[features]
default = []
wasm = [
    ## Operational deps.
    "dep:dlmalloc-rs",
    "dep:log",
    "dep:parity-scale-codec",

    # Gear deps.
    "dep:gear-core",
    "dep:gear-sandbox",
    "dep:gear-wasm-instrument",
    "dep:gprimitives",
]
cargo-clippy = []
