name: Labels

on:
  pull_request:
    branches: [master, vara-stage-1, vara-stage-2, vara-stage-3]
    types: [labeled]

jobs:
  build:
    uses: ./.github/workflows/build.yml
    # TODO: dispatch this workflow with github action API.
    # with more conditions. for example, if the there is
    # already a build check exist. (issue-2888)
    if: github.event.label.name == 'A0-pleasereview'
    with:
      cache: ${{ github.base_ref }}
